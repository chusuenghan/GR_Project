<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="NotiSubscription">

	<resultMap type="notisubscriptionMAap" id="NotiSubscriptionVO">
		<id property="notisubId" 		column="notisub_id"/>
		<result property="userId" 		column="user_id"/>
		<result property="endpoint" 		column="endpoint"/>
		<result property="p256dh" 		column="p256dh"/>
		<result property="auth" 		column="auth"/>
	</resultMap>
	
	<select id="findUserNotiSub" resultMap="NotiSubscriptionVO">
		<![CDATA[
			SELECT notisub_id, user_id, endpoint, p256dh, auth
			FROM noti_subscription
			Where user_id = #{userId};
		]]>
	</select>
	
	
	<insert id="insertNotiSub" parameterType="notisubscriptionMAap">
		<![CDATA[
			INSERT INTO noti_subscription
				(user_id, endpoint, p256dh, auth)
			VALUES
				(#{userId}, #{endpoint}, #{p256dh}, #{auth});
		]]>
	</insert>
	
</mapper>